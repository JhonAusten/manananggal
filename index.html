<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manananggal Survival Game - Enhanced with Asset Integration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu-screen" id="menuScreen">
        <div class="menu-container">
            <div class="menu-title">MANANANGGAL SURVIVAL</div>
            
            <div class="menu-subtitle">Filipino Horror Game</div>
            
            <div class="menu-description">
                <p>Survive the attack of the Manananggal!</p>
                <p>Use your rotating machetes to defend yourself.</p>
                <p>Collect buffs to power up and stay alive.</p>
            </div>

            <div class="menu-controls">
                <h3>How to Play</h3>
                <ul>
                    <li>WASD / Arrow Keys - Move</li>
                    <li>Hold Shift - Run</li>
                    <li>Left Mouse Click - Shoot Wave Attack</li>
                    <li>Avoid the Manananggal!</li>
                </ul>
            </div>

            <button class="menu-btn start-btn" onclick="menuScreen.startGame()">START GAME</button>
            <button class="menu-btn leaderboard-btn" onclick="menuScreen.viewLeaderboard()">LEADERBOARD</button>
        </div>
    </div>
    <!-- Audio preloads -->
    <audio id="macheteHit" preload="auto">
        <source src="assets/audio/effects/machete-hit.mp3" type="audio/mpeg">
        <source src="assets/audio/effects/machete-hit.wav" type="audio/wav">
    </audio>
    <audio id="characterDeath" preload="auto">
        <source src="assets/audio/effects/character-death.mp3" type="audio/mpeg">
        <source src="assets/audio/effects/character-death.ogg" type="audio/ogg">
    </audio>
    <audio id="shockwave" preload="auto">
        <source src="assets/audio/effects/wave.mp3" type="audio/mpeg">
        <source src="assets/audio/effects/wave.wav" type="audio/wav">
    </audio>
    <audio id="monsterDeath" preload="auto">
        <source src="assets/audio/effects/monster-death.mp3" type="audio/mpeg">
        <source src="assets/audio/effects/monster-death.ogg" type="audio/ogg">
    </audio>
    <audio id="powerupCollect" preload="auto">
        <source src="assets/audio/effects/powerup.mp3" type="audio/mpeg">
        <source src="assets/audio/effects/powerup.ogg" type="audio/ogg">
    </audio>
    <audio id="backgroundMusic" loop preload="auto">
        <source src="assets/audio/music/ambient-horror.mp3" type="audio/mpeg">
        <source src="assets/audio/music/ambient-horror.wav" type="audio/wav">
    </audio>

    <div class="loading-indicator" id="loadingIndicator">Loading Assets...</div>
    
    <div class="title">Manananggal Survival</div>
    
    <div class="game-area" id="gameArea">
        <div id="hudPanel" class="hud-panel">
            <div class="hud-content">
                <div class="hud-stat">
                    <span class="label">Score:</span>
                    <span id="score">0</span>
                </div>
                
                <div class="hud-stat">
                    <span class="label">Kills:</span>
                    <span id="kills">0</span>
                </div>
                
                <div class="hud-stat">
                    <span class="label">Machetes:</span>
                    <span id="macheteCount">1</span>
                </div>
                
                <div class="hud-stat">
                    <span class="label">Durability:</span>
                    <span id="durability">100</span>
                </div>
                
                <div class="hud-stat">
                    <span class="label">Wave Ammo:</span>
                    <span id="waveAmmo">0</span>
                </div>
            </div>
        </div>
        
        <div class="character" id="character">
            <div class="character-body">
                <div class="head">
                    <div class="eyes">
                        <div class="eye left"></div>
                        <div class="eye right"></div>
                    </div>
                </div>
                <div class="arm left"></div>
                <div class="arm right"></div>
                <div class="torso"></div>
                <div class="shorts"></div>
                <div class="leg left"></div>
                <div class="leg right"></div>
            </div>
        </div>

        <div class="game-over" id="gameOver">
            <div class="game-over-title">GAME OVER!</div>
            
            <div class="final-stats">
                <div class="stat-row">Score: <span id="finalScore">0</span></div>
                <div class="stat-row">Kills: <span id="finalKills">0</span></div>
                <div class="stat-row">Machetes: <span id="finalMachetes">1</span></div>
                <div class="stat-row">Time: <span id="finalSurvivalTime">0:00</span></div>
            </div>

            <!-- Score submission form -->
            <div id="scoreSubmissionForm" class="score-form">
                <input type="text" id="playerNameInput" placeholder="Enter your name (optional)" maxlength="20" class="name-input">
                <button id="submitScoreBtn" onclick="submitScoreToSheet()" class="submit-btn">Submit Score</button>
                <button onclick="showLeaderboard()" class="view-leaderboard-btn">View Leaderboard</button>
            </div>

            <!-- Leaderboard section -->
            <div id="leaderboardSection" class="leaderboard-section" style="display: none;">
                <h3 class="leaderboard-title">üèÜ TOP SURVIVORS üèÜ</h3>
                <div id="leaderboardList" class="leaderboard-list">
                    <!-- Leaderboard entries will be populated here -->
                </div>  
            </div>
                <button class="restart-btn" onclick="restartGame()">Play Again</button>
                <button class="restart-btn" onclick="backToMenuFromGameOver()">Back to Menu</button>
        </div>
    </div>

    <div class="controls" hidden>
        <h3>Controls</h3>
        <p>Arrow Keys or WASD to move | Hold Shift to run</p>
        <p>üü° Power Buffs increase machete power | üü¢ Machete Buffs add extra machetes</p>
        <p>Survive the Manananggal attack!</p>
    </div>

    <div class="debug-info" id="debugInfo" hidden>
        <h4>Asset Status:</h4>
        <div id="assetStatus">Checking...</div>
    </div>
    <script src="js/mobileControls.js"></script>
    <script src="js/pauseQuit.js"></script>
    <script src="js/menuScreen.js"></script>
    <script src="js/scoreManager.js"></script>
    <script src="js/audioManager.js"></script>
    <script src="js/assetChecker.js"></script>
    <script src="js/characterAnimator.js"></script>
    <script src="js/manananggalAnimator.js"></script>
    <script src="js/deathAnimation.js"></script>
    <script src="js/waveBuff.js"></script>
    <script src="js/entities.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/input.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/init.js"></script>
</body>
</html>

